{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./example/src/scripts/demo.js","webpack:///./example/src/scripts/home/assets/scripts/home.js","webpack:///./example/src/scripts/home/assets/scripts/templates/home.js","webpack:///./example/src/scripts/sign-in/assets/scripts/sign-in.js","webpack:///./example/src/scripts/sign-in/assets/scripts/templates/sign-in.js","webpack:///./example/src/scripts/sign-up/assets/scripts/sign-up.js","webpack:///./example/src/scripts/sign-up/assets/scripts/templates/sign-up.js","webpack:///./node_modules/jsx-dom/lib/index.js","webpack:///./node_modules/validate-target/src/index.js","webpack:///./src/component.js","webpack:///./src/extend.js","webpack:///./src/index.js","webpack:///./src/location/hash.js","webpack:///./src/tunnel.js"],"names":["tunnel","Tunnel","target","document","querySelector","routes","name","path","component","Home","SignIn","SignUp","navigate","Component","render","props","afterRender","addEvents","element","addEventListener","e","validateSubmit","validateTarget","selectorString","nodeName","setState","email","value","mockPmcResponse","templateHome","getStore","get","templateSignIn","TemplateSignUp"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA,MAAMA,MAAM,GAAG,IAAIC,iDAAJ,CAAW;AACzBC,QAAM,EAAEC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CADiB;AAEzBC,QAAM,EAAE,CACP;AACCC,QAAI,EAAE,MADP;AAECC,QAAI,EAAE,iBAFP;AAGCC,aAAS,EAAEC,oEAAIA;AAHhB,GADO,EAMP;AACCH,QAAI,EAAE,QADP;AAECC,QAAI,EAAE,YAFP;AAGCC,aAAS,EAAEE,0EAAMA;AAHlB,GANO,EAWP;AACCJ,QAAI,EAAE,QADP;AAECC,QAAI,EAAE,cAFP;AAGCC,aAAS,EAAEG,0EAAMA;AAHlB,GAXO;AAFiB,CAAX,CAAf;AAoBAX,MAAM,CAACY,QAAP,CAAgB,MAAhB,E;;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;CAGA;;AACe,MAAMH,IAAN,SAAmBI,oDAAnB,CAA6B;AAAA;AAAA;;AAAA,qCAEjC,uBAFiC;AAAA;;AAI3C;;;;;;AAMAC,QAAM,CAACC,KAAD,EAAQ;AACb,WAAO,8DAAC,0DAAD,OAAP;AACA;AAED;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAIAC,aAAW,GAAG;AACb,SAAKC,SAAL;AACA;AAED;;;;;;;AAKAA,WAAS,GAAG;AACXd,YAAQ,CAACC,aAAT,CAAuB,KAAKc,OAA5B,EAAqCC,gBAArC,CAAsD,OAAtD,EAAgEC,CAAD,IAAO;AACrE,YAAMC,cAAc,GAAGC,sDAAc,CAAC;AACrCpB,cAAM,EAAEkB,CAAC,CAAClB,MAD2B;AAErCqB,sBAAc,EAAE,aAFqB;AAGrCC,gBAAQ,EAAE,CAAC,QAAD;AAH2B,OAAD,CAArC;;AAKA,UAAIH,cAAJ,EAAoB;AACnB,aAAKI,QAAL,CAAc;AACbC,eAAK,EAAEvB,QAAQ,CAACC,aAAT,CAAuB,KAAKc,OAA5B,EAAqCd,aAArC,CAAmD,YAAnD,EAAiEuB;AAD3D,SAAd;AAIA,cAAMC,eAAe,GAAG,SAAxB;;AACA,YAAIA,eAAe,KAAK,cAAxB,EAAwC;AACvC,eAAKhB,QAAL,CAAc,QAAd;AACA,SAFD,MAEO,IAAIgB,eAAe,KAAK,SAAxB,EAAmC;AACzC,eAAKhB,QAAL,CAAc,QAAd;AACA;AACD;AACD,KAlBD;AAmBA;;AA1D0C,C;;;;;;;;;;;;ACN5C;AAAA;AAAA;AAAA;AAEA;;;;;;AAKe,SAASiB,YAAT,CAAsBd,KAAtB,EAA6B;AAC3C,SACC;AAAK,aAAS,EAAC;AAAf,aAEC,yEAFD,EAGC,yEAHD,EAIC;AAAO,QAAI,EAAC,MAAZ;AAAmB,MAAE,EAAC,WAAtB;AAAkC,eAAW,EAAC;AAA9C,IAJD,EAKC;AAAQ,aAAS,EAAC;AAAlB,iBALD,CADD;AASA,C;;;;;;;;;;;;;;;;;;;ACjBD;AACA;CAGA;;AACe,MAAML,MAAN,SAAqBG,oDAArB,CAA+B;AAAA;AAAA;;AAAA,qCAEnC,yBAFmC;AAAA;;AAI7C;AACA;;AAEA;;;;;;AAMAC,QAAM,CAACC,KAAD,EAAQ;AACb,UAAMW,KAAK,GAAG,KAAKI,QAAL,CAAc,MAAd,EAAsBC,GAAtB,CAA0B,OAA1B,CAAd;AACA,WAAO,8DAAC,6DAAD;AAAgB,WAAK,EAAEL;AAAvB,MAAP;AACA;;AAhB4C,C;;;;;;;;;;;;ACL9C;AAAA;AAAA;AAAA;AAEA;;;;;;AAKe,SAASM,cAAT,CAAwB;AAAEN;AAAF,CAAxB,EAAmC;AACjD,SACC;AAAK,aAAS,EAAC;AAAf,8DAEC,yEAFD,EAGC;AAAO,QAAI,EAAC,MAAZ;AAAmB,MAAE,EAAC,WAAtB;AAAkC,eAAW,EAAC,OAA9C;AAAsD,SAAK,EAAEA;AAA7D,IAHD,EAIC,yEAJD,EAKC;AAAO,QAAI,EAAC,UAAZ;AAAuB,MAAE,EAAC,cAA1B;AAAyC,eAAW,EAAC;AAArD,IALD,EAMC,yEAND,EAOC;AAAQ,aAAS,EAAC;AAAlB,0CAPD,CADD;AAWA,C;;;;;;;;;;;;;;;;;;;ACnBD;AACA;CAGA;;AACe,MAAMf,MAAN,SAAqBE,oDAArB,CAA+B;AAAA;AAAA;;AAAA,qCAEnC,yBAFmC;AAAA;;AAI7C;;;;;;AAMAC,QAAM,GAAG;AACR,WAAO,8DAAC,6DAAD,OAAP;AACA;;AAZ4C,C;;;;;;;;;;;;ACL9C;AAAA;AAAA;AAAA;AAEA;;;;;;AAKe,SAASmB,cAAT,CAAwBlB,KAAxB,EAA+B;AAC7C,SACC;AAAK,aAAS,EAAC;AAAf,KACC;AAAG,QAAI,EAAC;AAAR,kBADD,EAEC,yEAFD,0CAIC,yEAJD,EAKC;AAAO,QAAI,EAAC,UAAZ;AAAuB,MAAE,EAAC,cAA1B;AAAyC,eAAW,EAAC;AAArD,IALD,CADD;AASA,C;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,KAAK,EAAE,oBAAoB;AAC3B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,cAAc;AACd;;AAEA,gBAAgB,oBAAoB;AACpC;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,qEAAM;AAoBpB;;;;;;;;;;;;AC7cD;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B;AACA,aAAa,QAAQ;AACrB;AACA,2CAA2C,mCAAmC;AAC9E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7BA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AACA;AACA;AACe;AACf;AACA;AACA;AACA,QAAQ,SAAS;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO,YAAY;AACnB;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACM;;;;;;;;;;;;;ACDnD;AAAA;AAAe;AACf,cAAc,gBAAgB;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAA8B;AACK;;AAEpB;AACf,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,0DAA0D;;AAE1D;AACA;AACA;;AAEA;AACA,SAAS,sDAAI;AACb,GAAG;AACH;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,MAAM;AAClB;AACA,gBAAgB,mCAAmC;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA,cAAc,cAAc;AAC5B;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB;AACA,kBAAkB,cAAc;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,qEAAqE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA","file":"demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./example/src/scripts/demo.js\");\n","import { Tunnel } from '../../../src/index';\nimport Home from './home/assets/scripts/home.js';\nimport SignIn from './sign-in/assets/scripts/sign-in.js';\nimport SignUp from './sign-up/assets/scripts/sign-up.js';\n\nconst tunnel = new Tunnel({\n\ttarget: document.querySelector('#app'),\n\troutes: [\n\t\t{\n\t\t\tname: 'home',\n\t\t\tpath: '/prisma-connect',\n\t\t\tcomponent: Home\n\t\t},\n\t\t{\n\t\t\tname: 'signIn',\n\t\t\tpath: '/connexion',\n\t\t\tcomponent: SignIn\n\t\t},\n\t\t{\n\t\t\tname: 'signUp',\n\t\t\tpath: '/inscription',\n\t\t\tcomponent: SignUp\n\t\t}\n\t]\n});\ntunnel.navigate('home');\n","import { Component } from '../../../../../../src/index';\nimport TemplateHome from './templates/home.js';\nimport { createElement } from 'jsx-dom';\nimport validateTarget from 'validate-target';\n\n// The step needs to extend the UserLoginStep\nexport default class Home extends Component {\n\t// Selector string of the step element\n\telement = '.userLoginTunnel-home';\n\n\t/**\n\t * Required function\n\t * Automatically called by UserLoginTunnel.createStep\n\t * @param {Object} props Data exposed by the UserLoginTunnel\n\t * @returns {HTMLElement}\n\t */\n\trender(props) {\n\t\treturn <TemplateHome />;\n\t}\n\n\t/**\n\t * Required function\n\t * Automatically called by UserLoginTunnel.hashChanged\n\t * @returns {Object} Step data, useful for next steps if necessary\n\t */\n\t// setState() {\n\t// \treturn () => ({\n\t// \t\temail: document.querySelector(this.element).querySelector('#pmc-email').value\n\t// \t});\n\t// }\n\n\t/**\n\t * Optional function\n\t * Automatically called by UserLoginTunnel.createStep\n\t */\n\tafterRender() {\n\t\tthis.addEvents();\n\t}\n\n\t/**\n\t * Custom step function\n\t * Used to simlulate PMC in-site client interaction\n\t * and navigate to 2 differents steps\n\t */\n\taddEvents() {\n\t\tdocument.querySelector(this.element).addEventListener('click', (e) => {\n\t\t\tconst validateSubmit = validateTarget({\n\t\t\t\ttarget: e.target,\n\t\t\t\tselectorString: '.pmc-submit',\n\t\t\t\tnodeName: ['button']\n\t\t\t});\n\t\t\tif (validateSubmit) {\n\t\t\t\tthis.setState({\n\t\t\t\t\temail: document.querySelector(this.element).querySelector('#pmc-email').value\n\t\t\t\t});\n\n\t\t\t\tconst mockPmcResponse = 'user-ok';\n\t\t\t\tif (mockPmcResponse === 'user-unknown') {\n\t\t\t\t\tthis.navigate('signUp');\n\t\t\t\t} else if (mockPmcResponse === 'user-ok') {\n\t\t\t\t\tthis.navigate('signIn');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { createElement } from 'jsx-dom'\n\n/**\n * Template step\n * @param {Object} props Data from dependent steps\n * @returns {HTMLElement} Template step\n */\nexport default function templateHome(props) {\n\treturn (\n\t\t<div className=\"userLoginTunnel-home\">\n\t\t\tHOME\n\t\t\t<br />\n\t\t\t<br />\n\t\t\t<input type=\"text\" id=\"pmc-email\" placeholder=\"monemail@email.com\" />\n\t\t\t<button className=\"pmc-submit\">Continuer</button>\n\t\t</div>\n\t)\n}\n","import { Component } from '../../../../../../src/index';\nimport TemplateSignIn from './templates/sign-in.js';\nimport { createElement } from 'jsx-dom';\n\n// The step needs to extend the UserLoginStep\nexport default class SignIn extends Component {\n\t// Selector string of the step element\n\telement = '.userLoginTunnel-signIn';\n\n\t// Set the routes which the step depends\n\t// dependsOn = ['home'];\n\n\t/**\n\t * Required function\n\t * Automatically called by UserLoginTunnel.createStep\n\t * @param {Object} props Data exposed by the UserLoginTunnel\n\t * @returns {HTMLElement}\n\t */\n\trender(props) {\n\t\tconst email = this.getStore('home').get('email');\n\t\treturn <TemplateSignIn email={email} />;\n\t}\n}\n","import { createElement } from 'jsx-dom'\n\n/**\n * Template step\n * @param {Object} props Data from dependent steps\n * @returns {HTMLElement} Template step\n */\nexport default function templateSignIn({ email }) {\n\treturn (\n\t\t<div className=\"userLoginTunnel-signIn\">\n\t\t\tRavis de vous revoir, connectez-vous avec votre email\n\t\t\t<br />\n\t\t\t<input type=\"text\" id=\"pmc-email\" placeholder=\"email\" value={email} />\n\t\t\t<br />\n\t\t\t<input type=\"password\" id=\"pmc-password\" placeholder=\"password\" />\n\t\t\t<br />\n\t\t\t<button className=\"pmc-submit\">Me connecter avec mon mot de passe</button>\n\t\t</div>\n\t)\n}\n","import { Component } from '../../../../../../src/index';\nimport TemplateSignUp from './templates/sign-up.js';\nimport { createElement } from 'jsx-dom';\n\n// The step needs to extend the UserLoginStep\nexport default class SignUp extends Component {\n\t// Selector string of the step element\n\telement = '.userLoginTunnel-signUp';\n\n\t/**\n\t * Required function\n\t * Automatically called by UserLoginTunnel.createStep\n\t * @param {Object} props Data exposed by the UserLoginTunnel\n\t * @returns {HTMLElement}\n\t */\n\trender() {\n\t\treturn <TemplateSignUp />;\n\t}\n}\n","import { createElement } from 'jsx-dom'\n\n/**\n * Template step\n * @param {Object} props Data from dependent steps\n * @returns {HTMLElement} Template step\n */\nexport default function TemplateSignUp(props) {\n\treturn (\n\t\t<div className=\"userLoginTunnel-signUp\">\n\t\t\t<a href=\"#/prisma-connect\">Go to home</a>\n\t\t\t<br />\n\t\t\tBienvenue, inscrivez-vous en un clic\n\t\t\t<br />\n\t\t\t<input type=\"password\" id=\"pmc-password\" placeholder=\"password\" />\n\t\t</div>\n\t)\n}\n","const keys = Object.keys\nfunction identity(value) {\n  return value\n}\nfunction isBoolean(val) {\n  return typeof val === \"boolean\"\n}\nfunction isElement(val) {\n  return val && typeof val.nodeType === \"number\"\n}\nfunction isString(val) {\n  return typeof val === \"string\"\n}\nfunction isNumber(val) {\n  return typeof val === \"number\"\n}\nfunction isObject(val) {\n  return typeof val === \"object\" ? val !== null : isFunction(val)\n}\nfunction isFunction(val) {\n  return typeof val === \"function\"\n}\nfunction isArrayLike(obj) {\n  return isObject(obj) && typeof obj.length === \"number\" && typeof obj.nodeType !== \"number\"\n}\nfunction forEach(value, fn) {\n  if (!value) return\n\n  for (const key of keys(value)) {\n    fn(value[key], key)\n  }\n}\n\nfunction createRef() {\n  return Object.seal({\n    current: null,\n  })\n}\nfunction isRef(maybeRef) {\n  return isObject(maybeRef) && \"current\" in maybeRef\n}\nfunction useMemo(factory) {\n  return factory()\n}\n\nconst isUnitlessNumber = {\n  animationIterationCount: 0,\n  borderImageOutset: 0,\n  borderImageSlice: 0,\n  borderImageWidth: 0,\n  boxFlex: 0,\n  boxFlexGroup: 0,\n  boxOrdinalGroup: 0,\n  columnCount: 0,\n  columns: 0,\n  flex: 0,\n  flexGrow: 0,\n  flexPositive: 0,\n  flexShrink: 0,\n  flexNegative: 0,\n  flexOrder: 0,\n  gridArea: 0,\n  gridRow: 0,\n  gridRowEnd: 0,\n  gridRowSpan: 0,\n  gridRowStart: 0,\n  gridColumn: 0,\n  gridColumnEnd: 0,\n  gridColumnSpan: 0,\n  gridColumnStart: 0,\n  fontWeight: 0,\n  lineClamp: 0,\n  lineHeight: 0,\n  opacity: 0,\n  order: 0,\n  orphans: 0,\n  tabSize: 0,\n  widows: 0,\n  zIndex: 0,\n  zoom: 0,\n  fillOpacity: 0,\n  floodOpacity: 0,\n  stopOpacity: 0,\n  strokeDasharray: 0,\n  strokeDashoffset: 0,\n  strokeMiterlimit: 0,\n  strokeOpacity: 0,\n  strokeWidth: 0,\n}\n\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1)\n}\n\nconst prefixes = [\"Webkit\", \"ms\", \"Moz\", \"O\"]\nkeys(isUnitlessNumber).forEach((prop) => {\n  prefixes.forEach((prefix) => {\n    isUnitlessNumber[prefixKey(prefix, prop)] = 0\n  })\n})\n\nconst SVGNamespace = \"http://www.w3.org/2000/svg\"\nconst XLinkNamespace = \"http://www.w3.org/1999/xlink\"\nconst XMLNamespace = \"http://www.w3.org/XML/1998/namespace\"\n\nfunction isVisibleChild(value) {\n  return !isBoolean(value) && value != null\n}\n\nfunction className(value) {\n  if (Array.isArray(value)) {\n    return value.map(className).filter(Boolean).join(\" \")\n  } else if (isObject(value)) {\n    return keys(value)\n      .filter((k) => value[k])\n      .join(\" \")\n  } else if (isVisibleChild(value)) {\n    return \"\" + value\n  } else {\n    return \"\"\n  }\n}\nconst svg = {\n  animate: 0,\n  circle: 0,\n  clipPath: 0,\n  defs: 0,\n  desc: 0,\n  ellipse: 0,\n  feBlend: 0,\n  feColorMatrix: 0,\n  feComponentTransfer: 0,\n  feComposite: 0,\n  feConvolveMatrix: 0,\n  feDiffuseLighting: 0,\n  feDisplacementMap: 0,\n  feDistantLight: 0,\n  feFlood: 0,\n  feFuncA: 0,\n  feFuncB: 0,\n  feFuncG: 0,\n  feFuncR: 0,\n  feGaussianBlur: 0,\n  feImage: 0,\n  feMerge: 0,\n  feMergeNode: 0,\n  feMorphology: 0,\n  feOffset: 0,\n  fePointLight: 0,\n  feSpecularLighting: 0,\n  feSpotLight: 0,\n  feTile: 0,\n  feTurbulence: 0,\n  filter: 0,\n  foreignObject: 0,\n  g: 0,\n  image: 0,\n  line: 0,\n  linearGradient: 0,\n  marker: 0,\n  mask: 0,\n  metadata: 0,\n  path: 0,\n  pattern: 0,\n  polygon: 0,\n  polyline: 0,\n  radialGradient: 0,\n  rect: 0,\n  stop: 0,\n  svg: 0,\n  switch: 0,\n  symbol: 0,\n  text: 0,\n  textPath: 0,\n  tspan: 0,\n  use: 0,\n  view: 0,\n}\nfunction createFactory(tag) {\n  return createElement.bind(null, tag)\n}\nfunction Fragment(attr) {\n  const fragment = document.createDocumentFragment()\n  appendChildren(attr.children, fragment)\n  return fragment\n}\nfunction createElement(tag, attr, ...children) {\n  if (isString(attr) || Array.isArray(attr)) {\n    children.unshift(attr)\n    attr = {}\n  }\n\n  attr = attr || {}\n\n  if (!attr.namespaceURI && svg[tag] === 0) {\n    attr = { ...attr, namespaceURI: SVGNamespace }\n  }\n\n  if (attr.children != null && !children.length) {\n    ;({ children, ...attr } = attr)\n  }\n\n  let node\n\n  if (isString(tag)) {\n    node = attr.namespaceURI\n      ? document.createElementNS(attr.namespaceURI, tag)\n      : document.createElement(tag)\n    attributes(attr, node)\n    appendChild(children, node)\n  } else if (isFunction(tag)) {\n    if (isObject(tag.defaultProps)) {\n      attr = { ...tag.defaultProps, ...attr }\n    }\n\n    node = tag({ ...attr, children })\n  }\n\n  if (isRef(attr.ref)) {\n    attr.ref.current = node\n  } else if (isFunction(attr.ref)) {\n    attr.ref(node)\n  }\n\n  return node\n}\n\nfunction appendChild(child, node) {\n  if (isArrayLike(child)) {\n    appendChildren(child, node)\n  } else if (isString(child) || isNumber(child)) {\n    appendChildToNode(document.createTextNode(child), node)\n  } else if (child === null) {\n    appendChildToNode(document.createComment(\"\"), node)\n  } else if (isElement(child)) {\n    appendChildToNode(child, node)\n  }\n}\n\nfunction appendChildren(children, node) {\n  for (const child of children) {\n    appendChild(child, node)\n  }\n\n  return node\n}\n\nfunction appendChildToNode(child, node) {\n  if (node instanceof window.HTMLTemplateElement) {\n    node.content.appendChild(child)\n  } else {\n    node.appendChild(child)\n  }\n}\n\nfunction normalizeAttribute(s) {\n  return s.replace(/[A-Z\\d]/g, (match) => \":\" + match.toLowerCase())\n}\n\nfunction attribute(key, value, node) {\n  switch (key) {\n    case \"xlinkActuate\":\n    case \"xlinkArcrole\":\n    case \"xlinkHref\":\n    case \"xlinkRole\":\n    case \"xlinkShow\":\n    case \"xlinkTitle\":\n    case \"xlinkType\":\n      attrNS(node, XLinkNamespace, normalizeAttribute(key), value)\n      return\n\n    case \"xmlnsXlink\":\n      attr(node, normalizeAttribute(key), value)\n      return\n\n    case \"xmlBase\":\n    case \"xmlLang\":\n    case \"xmlSpace\":\n      attrNS(node, XMLNamespace, normalizeAttribute(key), value)\n      return\n  }\n\n  switch (key) {\n    case \"htmlFor\":\n      attr(node, \"for\", value)\n      return\n\n    case \"dataset\":\n      forEach(value, (dataValue, dataKey) => {\n        if (dataValue != null) {\n          node.dataset[dataKey] = dataValue\n        }\n      })\n      return\n\n    case \"innerHTML\":\n    case \"innerText\":\n    case \"textContent\":\n      node[key] = value\n      return\n\n    case \"spellCheck\":\n      node.spellcheck = value\n      return\n\n    case \"class\":\n    case \"className\":\n      if (isFunction(value)) {\n        value(node)\n      } else {\n        attr(node, \"class\", className(value))\n      }\n\n      return\n\n    case \"ref\":\n    case \"namespaceURI\":\n      return\n\n    case \"style\":\n      if (isObject(value)) {\n        forEach(value, (val, key) => {\n          if (isNumber(val) && isUnitlessNumber[key] !== 0) {\n            node.style[key] = val + \"px\"\n          } else {\n            node.style[key] = val\n          }\n        })\n        return\n      }\n  }\n\n  if (isFunction(value)) {\n    if (key[0] === \"o\" && key[1] === \"n\") {\n      const attribute = key.toLowerCase()\n\n      if (node[attribute] == null) {\n        node[attribute] = value\n      } else {\n        node.addEventListener(key, value)\n      }\n    }\n  } else if (value === true) {\n    attr(node, key, \"\")\n  } else if (value !== false && value != null) {\n    attr(node, key, value)\n  }\n}\n\nfunction attr(node, key, value) {\n  node.setAttribute(key, value)\n}\n\nfunction attrNS(node, namespace, key, value) {\n  node.setAttributeNS(namespace, key, value)\n}\n\nfunction attributes(attr, node) {\n  for (const key of keys(attr)) {\n    attribute(key, attr[key], node)\n  }\n\n  return node\n}\n\nfunction useText(initialValue) {\n  const text = new Text()\n  Object.defineProperty(text, \"toString\", {\n    value() {\n      return this.textContent\n    },\n  })\n\n  function setText(value) {\n    text.textContent = value\n  }\n\n  if (initialValue != null) {\n    setText(initialValue)\n  }\n\n  return [text, setText]\n}\nfunction useClassList(initialValue) {\n  const div = document.createElement(\"div\")\n\n  if (initialValue != null) {\n    div.className = className(initialValue)\n  }\n\n  let list = div.classList\n\n  function ClassList(value) {\n    value.className = list.value\n    list = value.classList\n  }\n\n  Object.defineProperties(\n    ClassList,\n    Object.getOwnPropertyDescriptors({\n      get size() {\n        return list.length\n      },\n\n      get value() {\n        return list.value\n      },\n\n      add(...tokens) {\n        list.add(...tokens)\n      },\n\n      remove(...tokens) {\n        list.remove(...tokens)\n      },\n\n      toggle(token, force) {\n        list.toggle(token, force)\n      },\n\n      contains(token) {\n        return list.contains(token)\n      },\n    })\n  )\n  return ClassList\n}\n\nvar module = {\n  createElement,\n  Fragment,\n}\nfunction preventDefault(event) {\n  event.preventDefault()\n  return event\n}\nfunction stopPropagation(event) {\n  event.stopPropagation()\n  return event\n}\n\nexport default module\nexport {\n  Fragment,\n  SVGNamespace,\n  className,\n  createElement,\n  createFactory,\n  createRef,\n  createElement as h,\n  isRef,\n  createElement as jsx,\n  createElement as jsxs,\n  identity as memo,\n  preventDefault,\n  stopPropagation,\n  identity as useCallback,\n  useClassList,\n  useMemo,\n  createRef as useRef,\n  useText,\n}\n","/**\n * @license MIT\n * @name validateTarget\n * @version 2.0.0\n * @author: Yoriiis aka Joris DANIEL <joris.daniel@gmail.com>\n * @description: Easily validate target of an HTML element especially during event delegation\n * {@link https://github.com/yoriiis/validate-target}\n * @copyright 2020 Joris DANIEL\n **/\n\n/**\n * @param {HTMLElement} target Target element\n * @param {String} selectorString Any valid CSS selector string (class, id, attribute) with Element.matches()\n * @param {String || Array} nodeName List of possible nodes name\n *\n * @returns {Boolean} Is the target valid\n */\nmodule.exports = function validateTarget ({ target, selectorString, nodeName }) {\n\t// If nodeName is a string, transform it in array to reuse the same function\n\tif (typeof nodeName === 'string') {\n\t\tnodeName = [nodeName];\n\t}\n\n\t// Check if at least one of the nodeName is valid\n\tif (Array.isArray(nodeName) && nodeName.length) {\n\t\treturn nodeName\n\t\t\t.map(item => target.nodeName.toLowerCase() === item && target.matches(selectorString))\n\t\t\t.includes(true);\n\t}\n};\n","export default class Component {\n\tconstructor() {\n\t\tthis.state = new Map();\n\t}\n\n\t/**\n\t * Optional function\n\t */\n\tafterRender() {}\n\n\t/**\n\t * Required function in the child class\n\t */\n\trender() {\n\t\tthrow new Error('You have to implement the function \"render\" for the component.');\n\t}\n\n\t/**\n\t * Required function in the child class\n\t */\n\tsetState(data) {\n\t\tObject.keys(data).forEach((key) => this.state.set(key, data[key]));\n\t}\n\n\tgetState(key) {\n\t\treturn key ? this.state.get(key) : this.state;\n\t}\n}\n","// https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\n// Pass in the objects to merge as arguments.\n// For a deep extend, set the first argument to `true`.\nexport default function extend() {\n\tconst extended = {};\n\tlet deep = false;\n\tlet i = 0;\n\tconst { length } = arguments;\n\n\t// Check if a deep merge\n\tif (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n\t\tdeep = arguments[0];\n\t\ti++;\n\t}\n\n\t// Merge the object into the extended object\n\tconst merge = (obj) => {\n\t\tfor (const prop in obj) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(obj, prop)) {\n\t\t\t\t// If deep merge and property is an object, merge properties\n\t\t\t\tif (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n\t\t\t\t\textended[prop] = extend(true, extended[prop], obj[prop]);\n\t\t\t\t} else {\n\t\t\t\t\textended[prop] = obj[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t// Loop through each object and conduct a merge\n\tfor (; i < length; i++) {\n\t\tconst obj = arguments[i];\n\t\tmerge(obj);\n\t}\n\n\treturn extended;\n}\n","export { default as Tunnel } from './tunnel';\nexport { default as Component } from './component';\n","export default class Hash {\n\tconstructor({ onRouteChange }) {\n\t\tthis.onRouteChange = onRouteChange;\n\t\tthis.hashChanged = this.hashChanged.bind(this);\n\t}\n\n\tsetPath(path) {\n\t\twindow.location.hash = path;\n\t}\n\n\tgetPath() {\n\t\treturn window.location.hash.substr(1);\n\t}\n\n\taddEvents() {\n\t\twindow.addEventListener('hashchange', this.hashChanged);\n\t}\n\n\thashChanged(e) {\n\t\tthis.onRouteChange({\n\t\t\tcurrentPath: this.getPath(),\n\t\t\tpreviousPath: this.getPreviousPath(e)\n\t\t});\n\t}\n\n\t/**\n\t * Get the previous route\n\t * @param {Event} e Event data\n\t * @returns {(String|null)} Previous route or null\n\t */\n\tgetPreviousPath(e) {\n\t\treturn e && e.oldURL ? e.oldURL.split('#')[1] : null;\n\t}\n}\n","import extend from './extend';\nimport Hash from './location/hash';\n\nexport default class Tunnel {\n\tconstructor({ target, routes }) {\n\t\tthis.mode = 'hash';\n\n\t\tthis.components = new Map(\n\t\t\troutes.map((route) => {\n\t\t\t\tconst component = new route.component(); // eslint-disable-line new-cap\n\n\t\t\t\t// Push new function inside step context to change the route\n\t\t\t\tcomponent.navigate = (route) => this.navigate(route);\n\t\t\t\tcomponent.getStore = (route) => {\n\t\t\t\t\treturn this.components.get(route).component.getState();\n\t\t\t\t};\n\n\t\t\t\treturn [\n\t\t\t\t\troute.name,\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: route.path,\n\t\t\t\t\t\tcomponent\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t})\n\t\t);\n\t\t// this.state = new Map(routes.map((route) => [route, {}]));\n\n\t\tthis.target = target;\n\t\tthis.previousRoute = null;\n\t\tthis.currentPath = null;\n\n\t\tthis.location = new {\n\t\t\thash: Hash\n\t\t}[this.mode]({\n\t\t\tonRouteChange: this.onRouteChange.bind(this)\n\t\t});\n\n\t\tthis.location.addEvents instanceof Function && this.location.addEvents();\n\n\t\tconst path = this.location.getPath();\n\t\tif (path !== '') {\n\t\t\tthis.onRouteChange({\n\t\t\t\tcurrentPath: path\n\t\t\t});\n\t\t}\n\t}\n\n\tnavigate(route) {\n\t\tthis.location.setPath(this.components.get(route).path);\n\t}\n\n\t/**\n\t * Event listener for the hash change\n\t * @param {Event} e Event data\n\t */\n\tonRouteChange({ currentPath, previousPath = null }) {\n\t\tthis.currentRoute = this.getRouteFromPath(currentPath);\n\t\tthis.previousRoute = this.getRouteFromPath(previousPath);\n\n\t\tconst currentComponent = this.components.get(this.currentRoute);\n\n\t\t// Check if route exist\n\t\tif (currentComponent) {\n\t\t\tconst dependsOn = currentComponent.component.dependsOn;\n\n\t\t\t// Check if previous route exist\n\t\t\tif (this.previousRoute) {\n\t\t\t\t// Set the state with the data from the previous step\n\t\t\t\t// this.setState({\n\t\t\t\t// \troute: this.previousRoute,\n\t\t\t\t// \tdata: this.components.get(this.previousRoute).component.getState()\n\t\t\t\t// });\n\n\t\t\t\t// Destroy the previous step\n\t\t\t\tthis.destroyComponent(this.previousRoute);\n\t\t\t}\n\n\t\t\t// Create the new step\n\t\t\tthis.createComponent({\n\t\t\t\troute: this.currentRoute\n\t\t\t\t// data: dependsOn && dependsOn.length ? this.getDataFromDependentSteps(dependsOn) : {}\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.warn('Unknown route');\n\t\t}\n\n\t\tthis.displayDebug();\n\t}\n\n\t/**\n\t * Get route name from route path\n\t * @param {String} path Route path\n\t * @returns {String} Route name\n\t */\n\tgetRouteFromPath(path) {\n\t\tlet route = null;\n\t\tfor (const step of this.components.entries()) {\n\t\t\tif (step[1].path === path) {\n\t\t\t\troute = step[0];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn route;\n\t}\n\n\t/**\n\t * Get data from dependent steps\n\t * @param {Array} dependentSteps\n\t * @returns {Object} Aggregated data\n\t */\n\t// getDataFromDependentSteps(dependentSteps) {\n\t// \tconst data = {};\n\t// \tdependentSteps.forEach((route) => (data[route] = this.state.get(route)));\n\t// \treturn data;\n\t// }\n\n\t/**\n\t * Set the state for a specific route\n\t * Current data is merged with the actual\n\t * @param {Object} options\n\t * @param {String} route Route\n\t * @param {String} data Data from the step associated to the route\n\t */\n\t// setState({ route, data }) {\n\t// \tthis.state.set(route, extend(true, this.state.get(route), data));\n\t// }\n\n\t/**\n\t * Destroy the step\n\t * @param {String} route Route to destroy\n\t */\n\tdestroyComponent(route) {\n\t\tthis.target.replaceChildren();\n\t}\n\n\t/**\n\t * Create the step\n\t * @param {Object} options\n\t * @param {String} route Route\n\t * @param {String} data Data from the step associated to the route\n\t */\n\tcreateComponent({ route, data }) {\n\t\tconst Step = this.components.get(route).component;\n\n\t\tthis.render(Step.render(data));\n\t\tStep.afterRender();\n\t}\n\n\t/**\n\t * Render the step template\n\t * @param {HTMLElement} template Step template\n\t */\n\trender(template) {\n\t\tthis.target.appendChild(template);\n\t}\n\n\t/**\n\t * Enable debug infos\n\t */\n\tdisplayDebug() {\n\t\tconsole.groupCollapsed('Tunnel::routes');\n\t\tconsole.log({ currentRoute: this.currentRoute, previousRoute: this.previousRoute });\n\t\tconsole.groupEnd();\n\t\tconsole.groupCollapsed('Tunnel::steps');\n\t\tfor (const step of this.components.entries()) {\n\t\t\tconsole.log({\n\t\t\t\tname: step[0],\n\t\t\t\tpath: step[1].path,\n\t\t\t\tcomponent: step[1].component,\n\t\t\t\tstate: step[1].component.getState()\n\t\t\t});\n\t\t}\n\t\tconsole.groupEnd();\n\t}\n}\n"],"sourceRoot":""}